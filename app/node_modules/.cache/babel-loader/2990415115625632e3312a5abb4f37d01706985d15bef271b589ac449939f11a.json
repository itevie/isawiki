{"ast":null,"code":"import { showErrorAlert, showLoadingAlert } from \"./components/AlertManager\";\nimport axios from \"axios\";\nexport function combineStyles(before, after) {\n  return {\n    ...(before !== null && before !== void 0 ? before : {}),\n    ...(after !== null && after !== void 0 ? after : {})\n  };\n}\nexport function combineClasses(...things) {\n  let c = \"\";\n  for (const part of things) {\n    c = c.trim() + \" \" + (Array.isArray(part) ? part.join(\" \") : part || \"\");\n  }\n  return c.trim();\n}\nexport const client = axios.create({\n  baseURL: window.location.host === \"localhost\" ? \"http://localhost:3000\" : \"\"\n});\nexport class AxiosWrapper {\n  constructor() {\n    this.config = {};\n    this.showLoader = false;\n    this.noReject = false;\n    this.noErrorMessage = false;\n  }\n  get(url, config) {\n    return this.wrapper(\"get\", url, undefined, config);\n  }\n  delete(url, config) {\n    return this.wrapper(\"delete\", url, undefined, config);\n  }\n  post(url, data, config) {\n    return this.wrapper(\"post\", url, data, config);\n  }\n  patch(url, data, config) {\n    return this.wrapper(\"patch\", url, data, config);\n  }\n  put(url, data, config) {\n    return this.wrapper(\"put\", url, data, config);\n  }\n  wrapper(method, url, data, config) {\n    return new Promise((resolve, reject) => {\n      let loader = null;\n      if (this.showLoader) loader = showLoadingAlert();\n      const sendingConfig = {\n        ...this.config,\n        ...config,\n        onUploadProgress: ev => {\n          var _loader;\n          return (_loader = loader) === null || _loader === void 0 ? void 0 : _loader.progress(ev.progress || 0);\n        }\n      };\n      axios({\n        method,\n        url,\n        data: data,\n        ...sendingConfig\n      }).then(r => {\n        if (!r.status.toString().startsWith(\"2\")) {\n          console.error(`HTTP Errpr: Fetch ${method} ${url}`, r);\n          if (!this.noErrorMessage) showErrorAlert(makeErrorResponseMessage(r));\n          if (!this.noReject) reject(r);\n        } else resolve(r);\n      }).catch(r => {\n        console.error(`HTTP Errpr: Fetch ${method} ${url}`, r);\n        if (!this.noErrorMessage) showErrorAlert(makeErrorResponseMessage(r.response));\n        if (!this.noReject) reject(r);\n      }).finally(() => {\n        var _loader2;\n        (_loader2 = loader) === null || _loader2 === void 0 ? void 0 : _loader2.stop();\n      });\n    });\n  }\n}\nexport function axiosWrapper(method, ...args) {\n  return new Promise((resolve, reject) => {\n    const loader = showLoadingAlert();\n    const data = {\n      ...(args[2] || {}),\n      onUploadProgress: ev => loader.progress(ev.progress || 0)\n    };\n    args[2] = data;\n\n    // @ts-ignore\n    client[method](...args).then(r => {\n      if (!r.status.toString().startsWith(\"2\")) {\n        showErrorAlert(makeErrorResponseMessage(r));\n        reject();\n      } else resolve(r);\n    }).catch(r => {\n      showErrorAlert(makeErrorResponseMessage(r.response));\n      reject();\n    }).finally(() => {\n      loader.stop();\n    });\n  });\n}\nexport function makeErrorResponseMessage(response) {\n  var _response$data, _response$config;\n  let serverMessage = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message;\n  if (!serverMessage) {\n    serverMessage = {\n      404: \"The resource does not exist\"\n    }[response === null || response === void 0 ? void 0 : response.status] || `Failed to fetch data`;\n  }\n  return `${serverMessage} (${response === null || response === void 0 ? void 0 : response.status} - ${response === null || response === void 0 ? void 0 : (_response$config = response.config) === null || _response$config === void 0 ? void 0 : _response$config.url})`;\n}\nexport function leftPad(what, w, length) {\n  return w.repeat(length - what.length || 0) + what;\n}\nexport function randomBoolean() {\n  return Math.random() > 0.5;\n}\nexport function hexToRGB(hex, alpha) {\n  var r = parseInt(hex.slice(1, 3), 16),\n    g = parseInt(hex.slice(3, 5), 16),\n    b = parseInt(hex.slice(5, 7), 16);\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n}\nexport function randomRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nexport function randomRangeDecimal(min, max) {\n  return Math.random() * (max - min) + min;\n}","map":{"version":3,"names":["showErrorAlert","showLoadingAlert","axios","combineStyles","before","after","combineClasses","things","c","part","trim","Array","isArray","join","client","create","baseURL","window","location","host","AxiosWrapper","constructor","config","showLoader","noReject","noErrorMessage","get","url","wrapper","undefined","delete","post","data","patch","put","method","Promise","resolve","reject","loader","sendingConfig","onUploadProgress","ev","_loader","progress","then","r","status","toString","startsWith","console","error","makeErrorResponseMessage","catch","response","finally","_loader2","stop","axiosWrapper","args","_response$data","_response$config","serverMessage","message","leftPad","what","w","length","repeat","randomBoolean","Math","random","hexToRGB","hex","alpha","parseInt","slice","g","b","randomRange","min","max","floor","randomRangeDecimal"],"sources":["/home/isabella/Documents/projects/go/isawiki/app/src/dawn-ui/util.ts"],"sourcesContent":["import { HTMLAttributes } from \"react\";\nimport { showErrorAlert, showLoadingAlert } from \"./components/AlertManager\";\nimport axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\n\nexport type HTTPMethod = \"post\" | \"get\" | \"patch\" | \"put\" | \"delete\";\n\nexport type UtilClassNames =\n  | \"no-shrink\"\n  | \"flex-grow\"\n  | \"align-center\"\n  | \"justify-center\"\n  | \"no-select\"\n  | \"no-gap\"\n  | \"small-gap\"\n  | \"no-min\"\n  | \"clickable\"\n  | \"lift-up\"\n  | \"hover-grow\"\n  | \"selected\"\n  | \"hover\"\n  | \"focus\"\n  | \"giraffe\"\n  | \"round\"\n  | \"fit-content\"\n  | \"flex-wrap\";\n\nexport function combineStyles<T>(\n  before: HTMLAttributes<T>[\"style\"] | null,\n  after: HTMLAttributes<T>[\"style\"] | null\n): HTMLAttributes<T>[\"style\"] {\n  return {\n    ...(before ?? {}),\n    ...(after ?? {}),\n  };\n}\n\nexport function combineClasses(\n  ...things: (string | undefined | null | string[])[]\n): string {\n  let c = \"\";\n  for (const part of things) {\n    c = c.trim() + \" \" + (Array.isArray(part) ? part.join(\" \") : part || \"\");\n  }\n  return c.trim();\n}\n\nexport const client = axios.create({\n  baseURL: window.location.host === \"localhost\" ? \"http://localhost:3000\" : \"\",\n});\n\nexport class AxiosWrapper {\n  public config: AxiosRequestConfig = {};\n  public showLoader: boolean = false;\n  public noReject: boolean = false;\n  public noErrorMessage: boolean = false;\n\n  public get<D extends any = any>(\n    url: string,\n    config?: AxiosRequestConfig\n  ): Promise<AxiosResponse<D>> {\n    return this.wrapper<\"get\", D>(\"get\", url, undefined, config);\n  }\n\n  public delete<D extends any = any>(\n    url: string,\n    config?: AxiosRequestConfig\n  ): Promise<AxiosResponse<D>> {\n    return this.wrapper<\"delete\", D>(\"delete\", url, undefined, config);\n  }\n\n  public post<D extends any = any>(\n    url: string,\n    data: any,\n    config?: AxiosRequestConfig\n  ): Promise<AxiosResponse<D>> {\n    return this.wrapper<\"post\", D>(\"post\", url, data, config);\n  }\n\n  public patch<D extends any = any>(\n    url: string,\n    data: any,\n    config?: AxiosRequestConfig\n  ): Promise<AxiosResponse<D>> {\n    return this.wrapper<\"patch\", D>(\"patch\", url, data, config);\n  }\n\n  public put<D extends any = any>(\n    url: string,\n    data: any,\n    config?: AxiosRequestConfig\n  ): Promise<AxiosResponse<D>> {\n    return this.wrapper<\"put\", D>(\"put\", url, data, config);\n  }\n\n  public wrapper<T extends HTTPMethod, D extends any = any>(\n    method: T,\n    url: string,\n    data?: T extends \"get\" ? never : any,\n    config?: AxiosRequestConfig\n  ): Promise<AxiosResponse<D>> {\n    return new Promise<AxiosResponse<D>>((resolve, reject) => {\n      let loader: ReturnType<typeof showLoadingAlert> | null = null;\n      if (this.showLoader) loader = showLoadingAlert();\n\n      const sendingConfig: AxiosRequestConfig = {\n        ...this.config,\n        ...config,\n        onUploadProgress: (ev) => loader?.progress(ev.progress || 0),\n      };\n\n      axios({\n        method,\n        url,\n        data: data,\n        ...sendingConfig,\n      })\n        .then((r) => {\n          if (!r.status.toString().startsWith(\"2\")) {\n            console.error(`HTTP Errpr: Fetch ${method} ${url}`, r);\n            if (!this.noErrorMessage)\n              showErrorAlert(makeErrorResponseMessage(r));\n            if (!this.noReject) reject(r);\n          } else resolve(r);\n        })\n        .catch((r) => {\n          console.error(`HTTP Errpr: Fetch ${method} ${url}`, r);\n          if (!this.noErrorMessage)\n            showErrorAlert(makeErrorResponseMessage(r.response));\n          if (!this.noReject) reject(r);\n        })\n        .finally(() => {\n          loader?.stop();\n        });\n    });\n  }\n}\n\nexport function axiosWrapper<\n  T extends \"get\" | \"post\" | \"patch\",\n  D extends any = any\n>(\n  method: T,\n  ...args: Parameters<(typeof axios)[T]>\n): Promise<AxiosResponse<D>> {\n  return new Promise<AxiosResponse>((resolve, reject) => {\n    const loader = showLoadingAlert();\n\n    const data: AxiosRequestConfig = {\n      ...(args[2] || {}),\n      onUploadProgress: (ev) => loader.progress(ev.progress || 0),\n    };\n    args[2] = data;\n\n    // @ts-ignore\n    client[method](...args)\n      .then((r) => {\n        if (!r.status.toString().startsWith(\"2\")) {\n          showErrorAlert(makeErrorResponseMessage(r));\n          reject();\n        } else resolve(r);\n      })\n      .catch((r) => {\n        showErrorAlert(makeErrorResponseMessage(r.response));\n        reject();\n      })\n      .finally(() => {\n        loader.stop();\n      });\n  });\n}\n\nexport function makeErrorResponseMessage(response: AxiosResponse): string {\n  let serverMessage = response?.data?.message;\n\n  if (!serverMessage) {\n    serverMessage =\n      {\n        404: \"The resource does not exist\",\n      }[response?.status] || `Failed to fetch data`;\n  }\n\n  return `${serverMessage} (${response?.status} - ${response?.config?.url})`;\n}\n\nexport type ArrayElement<ArrayType extends readonly unknown[]> =\n  ArrayType extends readonly (infer ElementType)[] ? ElementType : never;\n\nexport function leftPad(what: string, w: string, length: number) {\n  return w.repeat(length - what.length || 0) + what;\n}\n\nexport function randomBoolean(): boolean {\n  return Math.random() > 0.5;\n}\n\nexport function hexToRGB(hex: string, alpha: number) {\n  var r = parseInt(hex.slice(1, 3), 16),\n    g = parseInt(hex.slice(3, 5), 16),\n    b = parseInt(hex.slice(5, 7), 16);\n\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n}\n\nexport function randomRange(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function randomRangeDecimal(min: number, max: number) {\n  return Math.random() * (max - min) + min;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}